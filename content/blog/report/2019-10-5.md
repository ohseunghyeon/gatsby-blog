---
title: 2019년 10월 다섯째 주
date: 2019-10-27T12:09:46.721Z
description: 매주 무엇을 읽고 보았는지 정리하는 글
category: report
---

## [Rendering on the Web](https://developers.google.com/web/updates/2019/02/rendering-on-the-web#server-rendering)

웹에서 

![infographic showing the server-client spectrum](https://developers.google.com/web/updates/images/2019/02/rendering-on-the-web/infographic.png)

## [PRPL 패턴, Addy Osmani](https://developers.google.com/web/fundamentals/performance/prpl-pattern/)

점차 인터넷을 사용하는 디바이스 중 모바일이 차지하는 비율이 늘어감에 따라, 모바일 웹 앱의 경험을 향상시키기 위한 목적으로 탄생한 PWA를 구성하고 제공하기 위한 패턴.

- Push: 초기 URL 경로에서 중요한 리소스를 푸시합니다.
- Render: 초기 경로를 렌더링합니다.
- Pre-cache: 남은 경로를 사전 캐시합니다.
- Lazy-load: 필요 시 남은 경로를 지연 로드하고 생성합니다.

## [Caching in React](https://freecontent.manning.com/caching-in-react/)

in memory 캐싱, redis를 사용한 캐싱, CDN을 사용한 캐싱에 대한 특징과 간단한 구현 방법을 서술한 글

[번역](/study/caching-in-react/)

## [A comprehensive guide to HTTP/2 Server Push, Jeremy Wagner, 2017.4.10](https://www.smashingmagazine.com/2017/04/guide-http2-server-push/)

HTTP/2가 지원하는 Server push에 대한 글

### summary

HTTP/2 이전에는 브라우저가 어떤 페이지를 요청했을 때, index.html을 우선 받고, 이를 파싱하면서 css와 javascript 파일을 따로 요청해야 했다. 그러나 HTTP/2가 지원하는 Server push를 사용하면, 클라이언트가 index.html을 요청했을 때 서버가 알아서 index.html와 style.css 등 여타 파일을 함께 응답해줄 수 있다. 추가적인 요청을 줄여서 이는 브라우저가 더 빠르게 화면을 그릴 수 있게 된다는 뜻이다.

### 장점

- Round trip을 줄여준다.
- anti pattern인 inline css, javascript와 [data URI scheme](https://en.wikipedia.org/wiki/Data_URI_scheme)의 대안으로 적절하다. (inline css와 javascript 등은 모듈화가 되지 않아 다른 페이지에서 이 내용이 필요할 경우 캐시되지 않는다.)

### 성능

해당 기사에서는 CSS만 server push했을 때 성능이 제일 좋았다. javascript와 기타 등등의 파일을 같이 push했을 때 되려 화면이 그려지는 속도가 느렸다.

2017년 글임을 감안하여 최근엔 브라우저가 이를 어떻게 최적화했을지 모르므로, 좀 더 자료를 찾아보거나 직접 벤치마킹하여 서버푸쉬를 사용해야 할 것 같다.

### server push와 cache

서버가 무조건 어떤 데이터를 보내준다면, 재방문 사용자이고 캐시를 가지고 있을 경우 캐시를 무시하는 결과를 낳게 된다. 이에 관하여, 클라이언트상의 쿠키로 캐시가 있으니 서버푸쉬를 보내지 않아도 되게끔 하는 기능을 가진 솔루션(cache-aware server push mechanism)
이 있으니 참고하는 것이 좋을 것 같다.
